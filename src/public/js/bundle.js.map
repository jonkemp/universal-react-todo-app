{"version":3,"sources":["webpack:///bundle.js","webpack:///webpack/bootstrap bd1f369fdd2532856f72","webpack:///./src/index.js","webpack:///./src/modules/pubsub.js","webpack:///./src/modules/store.js","webpack:///./src/modules/todoApp.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_store","_store2","_pubsub","_pubsub2","_todoApp","_todoApp2","todosStore","localStorage","getItem","todoCollection","todos","document","getElementById","todoForm","app","subscribe","render","addEventListener","event","input","elements","value","updatedCollection","addTodo","setItem","publish","preventDefault","Object","defineProperty","pubsub","topics","subUid","topic","args","subscribers","len","length","func","this","token","toString","push","unsubscribe","i","j","splice","store","split","el","collection","innerHTML","forEach","item","li","createElement","text","createTextNode","appendChild","todo"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAE,WACAE,GAAAJ,EACAK,QAAA,EAUA,OANAP,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,QAAA,EAGAF,EAAAD,QAvBA,GAAAD,KAqCA,OATAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,GAGAV,EAAA;;;ADSM,SAASI,EAAQD,EAASH,GAE/B,YAcA,SAASW,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAASF,GE/DxF,GAAAG,GAAAf,wBAAA,GFqDKgB,EAAUL,EAAuBI,GEpDtCE,EAAAjB,yBAAA,GFwDKkB,EAAWP,EAAuBM,GEvDvCE,EAAAnB,0BAAA,GF2DKoB,EAAYT,EAAuBQ,IEzDvC,WAEC,GAAME,GAAaC,aAAaC,QAAQ,SAElCC,GAAiB,EAAAR,cAAiBK,GAElCI,EAAQC,SAASC,eAAe,SAEhCC,EAAWF,SAASC,eAAe,aAEnCE,GAAM,EAAAT,cAAQK,EAAOD,EAE3BN,cAAOY,UAAU,aAAc,WAC7BD,EAAIE,WAGNH,EAASI,iBAAiB,SAAU,SAAUC,GAC5C,GAAMC,GAAQN,EAASO,SAAT,OAA4BC,MAEpCC,EAAoBR,EAAIS,QAAQJ,EAGtCZ,cAAaiB,QAAQ,QAASF,GAE9BnB,aAAOsB,QAAQ,aAAc,IAE7BZ,EAASO,SAAT,OAA4BC,MAAQ,GAEpCH,EAAMQ,mBACL,GAEHZ,EAAIE;;;AFqEA,SAAS3B,EAAQD,GAEtB,YAEAuC,QAAOC,eAAexC,EAAS,cAC7BiC,OAAO,GG7GV,IAAMQ,MAIAC,KAGFC,IAKJF,GAAOJ,QAAU,SAAUO,EAAOC,GAEhC,IAAMH,EAAOE,GACX,OAAO,CAMT,KAHA,GAAIE,GAAcJ,EAAOE,GACvBG,EAAMD,EAAcA,EAAYE,OAAS,EAEpCD,KACLD,EAAYC,GAAKE,KAAML,EAAOC,EAGhC,OAAOK,OAOTT,EAAOd,UAAY,SAAUiB,EAAOK,GAE7BP,EAAOE,KACVF,EAAOE,MAGT,IAAMO,MAAYR,GAASS,UAK3B,OAJAV,GAAOE,GAAOS,MACZF,MAAOA,EACPF,KAAMA,IAEDE,GAMTV,EAAOa,YAAc,SAAUH,GAC7B,IAAM,GAAI9C,KAAKqC,GACb,GAAKA,EAAOrC,GACV,IAAM,GAAIkD,GAAI,EAAGC,EAAId,EAAOrC,GAAG2C,OAAQO,EAAIC,EAAGD,IAC5C,GAAKb,EAAOrC,GAAGkD,GAAGJ,QAAUA,EAE1B,MADAT,GAAOrC,GAAGoD,OAAQF,EAAG,GACdJ,CAKf,OAAOD,OHkHRlD,aG/GcyC;;;AHsHT,SAASxC,EAAQD,GAEtB,YAEAuC,QAAOC,eAAexC,EAAS,cAC7BiC,OAAO,IAGTjC,aI7Lc,SAAS0D,GACtB,GAAIpC,KAQJ,OAJIoC,IAA0B,gBAAVA,KAClBpC,EAAQoC,EAAMC,MAAM,MAGfrC;;;AJqMH,SAASrB,EAAQD,GAEtB,YAEAuC,QAAOC,eAAexC,EAAS,cAC7BiC,OAAO,IAGTjC,aKtNc,SAAS4D,EAAIC,GAC1B,OACEjC,OADK,WAWH,MATAgC,GAAGE,UAAY,GAEfD,EAAWE,QAAQ,SAAUC,GAC3B,GAAMC,GAAK1C,SAAS2C,cAAc,MAC5BC,EAAO5C,SAAS6C,eAAeJ,EACrCC,GAAGI,YAAYF,GACfP,EAAGS,YAAYJ,KAGVJ,GAGT1B,QAdK,SAcGmC,GAGN,MAFAT,GAAWR,KAAKiB,GAETT","file":"bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _store = __webpack_require__(/*! ./modules/store */ 2);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _pubsub = __webpack_require__(/*! ./modules/pubsub */ 1);\n\t\n\tvar _pubsub2 = _interopRequireDefault(_pubsub);\n\t\n\tvar _todoApp = __webpack_require__(/*! ./modules/todoApp */ 3);\n\t\n\tvar _todoApp2 = _interopRequireDefault(_todoApp);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(function () {\n\t  // repopulate todos from localStorage on page load\n\t  var todosStore = localStorage.getItem('todos');\n\t\n\t  var todoCollection = (0, _store2.default)(todosStore);\n\t\n\t  var todos = document.getElementById('todos');\n\t\n\t  var todoForm = document.getElementById('todo-form');\n\t\n\t  var app = (0, _todoApp2.default)(todos, todoCollection);\n\t\n\t  _pubsub2.default.subscribe('updateList', function () {\n\t    app.render();\n\t  });\n\t\n\t  todoForm.addEventListener('submit', function (event) {\n\t    var input = todoForm.elements['update'].value;\n\t\n\t    var updatedCollection = app.addTodo(input);\n\t\n\t    // save to localStorage\n\t    localStorage.setItem('todos', updatedCollection);\n\t\n\t    _pubsub2.default.publish('updateList', '');\n\t\n\t    todoForm.elements['update'].value = '';\n\t\n\t    event.preventDefault();\n\t  }, false);\n\t\n\t  app.render();\n\t})();\n\n/***/ },\n/* 1 */\n/*!*******************************!*\\\n  !*** ./src/modules/pubsub.js ***!\n  \\*******************************/\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar pubsub = {};\n\t\n\t// Storage for topics that can be broadcast\n\t// or listened to\n\tvar topics = {};\n\t\n\t// An topic identifier\n\tvar subUid = -1;\n\t\n\t// Publish or broadcast events of interest\n\t// with a specific topic name and arguments\n\t// such as the data to pass along\n\tpubsub.publish = function (topic, args) {\n\t\n\t  if (!topics[topic]) {\n\t    return false;\n\t  }\n\t\n\t  var subscribers = topics[topic],\n\t      len = subscribers ? subscribers.length : 0;\n\t\n\t  while (len--) {\n\t    subscribers[len].func(topic, args);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t// Subscribe to events of interest\n\t// with a specific topic name and a\n\t// callback function, to be executed\n\t// when the topic/event is observed\n\tpubsub.subscribe = function (topic, func) {\n\t\n\t  if (!topics[topic]) {\n\t    topics[topic] = [];\n\t  }\n\t\n\t  var token = (++subUid).toString();\n\t  topics[topic].push({\n\t    token: token,\n\t    func: func\n\t  });\n\t  return token;\n\t};\n\t\n\t// Unsubscribe from a specific\n\t// topic, based on a tokenized reference\n\t// to the subscription\n\tpubsub.unsubscribe = function (token) {\n\t  for (var m in topics) {\n\t    if (topics[m]) {\n\t      for (var i = 0, j = topics[m].length; i < j; i++) {\n\t        if (topics[m][i].token === token) {\n\t          topics[m].splice(i, 1);\n\t          return token;\n\t        }\n\t      }\n\t    }\n\t  }\n\t  return this;\n\t};\n\t\n\texports.default = pubsub;\n\n/***/ },\n/* 2 */\n/*!******************************!*\\\n  !*** ./src/modules/store.js ***!\n  \\******************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (store) {\n\t  var todos = [];\n\t\n\t  // convert string data into an array\n\t  // else return an empty array\n\t  if (store && typeof store === 'string') {\n\t    todos = store.split(',');\n\t  }\n\t\n\t  return todos;\n\t};\n\n/***/ },\n/* 3 */\n/*!********************************!*\\\n  !*** ./src/modules/todoApp.js ***!\n  \\********************************/\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (el, collection) {\n\t  return {\n\t    render: function render() {\n\t      el.innerHTML = '';\n\t\n\t      collection.forEach(function (item) {\n\t        var li = document.createElement('li');\n\t        var text = document.createTextNode(item);\n\t        li.appendChild(text);\n\t        el.appendChild(li);\n\t      });\n\t\n\t      return collection;\n\t    },\n\t    addTodo: function addTodo(todo) {\n\t      collection.push(todo);\n\t\n\t      return collection;\n\t    }\n\t  };\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** bundle.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bd1f369fdd2532856f72\n **/","import getDataFromStore from './modules/store';\nimport pubsub from './modules/pubsub';\nimport todoApp from './modules/todoApp';\n\n(function() {\n  // repopulate todos from localStorage on page load\n  const todosStore = localStorage.getItem('todos');\n\n  const todoCollection = getDataFromStore(todosStore);\n\n  const todos = document.getElementById('todos');\n\n  const todoForm = document.getElementById('todo-form');\n\n  const app = todoApp(todos, todoCollection);\n\n  pubsub.subscribe('updateList', function () {\n    app.render();\n  });\n\n  todoForm.addEventListener('submit', function (event) {\n    const input = todoForm.elements['update'].value;\n\n    const updatedCollection = app.addTodo(input);\n\n    // save to localStorage\n    localStorage.setItem('todos', updatedCollection);\n\n    pubsub.publish('updateList', '');\n\n    todoForm.elements['update'].value = '';\n\n    event.preventDefault();\n  }, false );\n\n  app.render();\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","const pubsub = {};\n\n// Storage for topics that can be broadcast\n// or listened to\nconst topics = {};\n\n// An topic identifier\nlet subUid = -1;\n\n// Publish or broadcast events of interest\n// with a specific topic name and arguments\n// such as the data to pass along\npubsub.publish = function( topic, args ) {\n\n  if ( !topics[topic] ) {\n    return false;\n  }\n\n  let subscribers = topics[topic],\n    len = subscribers ? subscribers.length : 0;\n\n  while (len--) {\n    subscribers[len].func( topic, args );\n  }\n\n  return this;\n};\n\n// Subscribe to events of interest\n// with a specific topic name and a\n// callback function, to be executed\n// when the topic/event is observed\npubsub.subscribe = function( topic, func ) {\n\n  if (!topics[topic]) {\n    topics[topic] = [];\n  }\n\n  const token = ( ++subUid ).toString();\n  topics[topic].push({\n    token: token,\n    func: func\n  });\n  return token;\n};\n\n// Unsubscribe from a specific\n// topic, based on a tokenized reference\n// to the subscription\npubsub.unsubscribe = function( token ) {\n  for ( let m in topics ) {\n    if ( topics[m] ) {\n      for ( let i = 0, j = topics[m].length; i < j; i++ ) {\n        if ( topics[m][i].token === token ) {\n          topics[m].splice( i, 1 );\n          return token;\n        }\n      }\n    }\n  }\n  return this;\n};\n\nexport default pubsub;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/pubsub.js\n **/","export default function(store) {\n  let todos = [];\n\n  // convert string data into an array\n  // else return an empty array\n  if (store && typeof store === 'string') {\n    todos = store.split(',');\n  }\n\n  return todos;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/store.js\n **/","export default function(el, collection) {\n  return {\n    render() {\n      el.innerHTML = '';\n\n      collection.forEach(function (item) {\n        const li = document.createElement('li');\n        const text = document.createTextNode(item);\n        li.appendChild(text);\n        el.appendChild(li);\n      });\n\n      return collection;\n    },\n\n    addTodo(todo) {\n      collection.push(todo);\n\n      return collection;\n    }\n  };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/modules/todoApp.js\n **/"],"sourceRoot":""}